# This Bash fragment is sourced by various scripts.
#
# Its job is to set a bunch of configuration variable as expected by the
# bundle manifest generation scripts that source it.  Because it is Bash, you
# can use any Bash constructs you want here, but be careful  about setting
# variables that might break the sourcing script.

#--------------------------------------------------------------------
# Config properties that are unique for each prodct (ACM vs. MCE)
# and often/ocasionally differ release-to-release.
#
# Be sure to consider these settings in release-to-release cutovers.
#--------------------------------------------------------------------

# List or range of COP versions to which bundles should be published.
# Note: This variable is used/effective only for CPASS builds.  For Konflux
# builds, this range is now set in configuration files for the catalog
# generation steps.

ocp_versions="v4.15-v4.19"

# When non-zero, a build-number/iteration suffix is added to CSV/bundle versions
add_iteration_suffix=1

# Specify the list of arechitectures and operating systems we support.

# Since MCE 2.0:
cfg_supported_op_syss=("linux")
cfg_supported_archs=("amd64" "ppc64le" "s390x" "arm64")

# Specify EUS-release configuration:

cfg_first_eus_release_xy=2.6
cfg_eus_release_cadence=2

#-----------------------------------------------------------------
# Config properties that are unique for each prodct (ACM vs. MCE)
# but usually constant across releases of the product.
#-----------------------------------------------------------------

# Name of the OLM operator package:

cfg_pkg_name="multicluster-engine"
cfg_short_display_name="MCE"
olm_package="$cfg_pkg_name"   # Alternate name for this config variable

# Pathname (in bundle repo) of the CSV template file.
cfg_csv_template="config/mce-csv-template.yaml"

# Pathnames (in tools repo) of the scripts used to generate the unbound
# and bound bundle manifests for this product.

unbound_bundle_manifests_gen_script="tools/konflux/bundle/gen-unbound-mce-bundle.sh"
bound_bundle_manifests_gen_script="tools/konflux/bundle/gen-bound-mce-bundle.sh"

# Pathname (in bundle repo) of the config file for the image manifest generation
# script referenced by $image_manifest_gen_script
# Note: This is relative to the top of the bundle repo (release branch).
image_manifest_gen_config_file="config/mce-manifest-gen-config.json"

# Set to non-zero to have image manifest generation ignore erors like missing
# image info or missing images and emit placeholder entries rather than failing.
ignore_image_errors=1

# Set to non-zero to have iteration/build-number suffixes appeneded to bundle versions.
add_iteration_suffix=1

#----------------------------------------------------
# Config properties likely the same for all products
#----------------------------------------------------

# Pathname (in tools repo) of the script that generates the image manifest.
image_manifest_gen_script="tools/konflux/bundle/generate-image-manifest.py"

